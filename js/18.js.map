{"version":3,"sources":["webpack:///./js/components/login-form/index.js","webpack:///./js/components/login-form/template.html"],"names":["template","require","props","shown","type","Boolean","default","redirect","String","data","sstate","store","state","action","userExists","recaptcha","key","recaptcha_key","response","show","errors","usernameTaken","passwordWrong","emailTaken","feedbackStyle","minHeight","minWidth","messageStyle","formData","login","email","pass","redirect_url","remember","token","sec_token","ajax","sec","confirmUser","confirmPass","tokenLogin","ajaxUrl","url","mounted","methods","e","preventDefault","test","push","axios","post","qs","stringify","headers","then","d","console","log","next","$el","$refs","clientHeight","clientWidth","waitLogin","reload","catch","error","warn","sendLink","enterPass","recaptchaShow","recaptchaSuccess","filter","x","window","setTimeout","recaptchaExpired","actionLogin","actionRegister","showFormRegister","showFormLogin","showFormUser","showFormEmail","formClick","stopPropagation","changed","$emit","orig","clearForm","location","goBack","goToLogin","confirm","register","focusFirst","firstInput","focus","computed","user","loggedIn","id","logoutLink","he","decode","logout","watch","newVal","oldVal","val"],"mappings":"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","file":"18.js","sourcesContent":["import store from '../../lib/store';\nimport he from 'he';\nimport qs from 'qs';\nimport axios from 'axios';\nexport default {\n  template: require( './template.html' ),\n  props: {\n    shown: {\n      type: Boolean,\n      default: true\n    },\n    redirect: {\n      type: String,\n      default: ''\n    }\n  },\n  data() {\n    return {\n      sstate: store.state,\n      action: 'login',\n      userExists: false,\n      recaptcha: {\n        key: store.state.recaptcha_key,\n        response: null,\n        show: false\n      },\n      errors: [],\n      usernameTaken: false,\n      passwordWrong: false,\n      emailTaken: false,\n      feedbackStyle: {\n        minHeight: 'auto',\n        minWidth: 'auto'\n      },\n      messageStyle: {\n        minHeight: 'auto'\n      },\n      formData: {\n        action: 'mrklogin',\n        login: '',\n        email: '',\n        pass: '',\n        redirect_url: '',\n        remember: true,\n        'g-recaptcha-response': '',\n        token: false,\n        sec_token: store.state.ajax.sec\n      },\n      confirmUser: '',\n      confirmPass: '',\n      tokenLogin: false,\n      ajaxUrl: store.state.ajax.url\n    };\n  },\n  mounted() {\n    this.formData.redirect_url = this.redirect;\n  },\n  methods: {\n    login(e) {\n      e.preventDefault();\n      if ( this.action != 'register' && this.formData.action == 'mrkregister' ) {\n        this.action = 'register';\n        this.errors = [];\n        if ( /.+@.+\\..+/.test( this.formData.login )) {\n          this.formData.email = this.formData.login;\n          this.formData.login = '';\n        }\n        return false;\n      }\n      if (! this.recaptcha.response ) {\n        this.errors.push( \"captcha: are you a robot?\" );\n        return false;\n      }\n      this.usernameTaken = false;\n      this.passwordWrong = false;\n      this.formData['g-recaptcha-response'] = this.recaptcha.response;\n      this.formData.token = this.tokenLogin;\n      axios.post( this.ajaxUrl, qs.stringify( this.formData ), {\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8'\n        }})\n         .then( response => {\n           var d = response.data;\n           console.log( 'formData response', d );\n           switch ( d.next ) {\n           case 'wrong-password':\n             this.action = 'login';\n             this.errors.push( \"the password you entered was incorrect\" );\n             this.passwordWrong = true;\n             break;\n           case 'unknown-user':\n           case 'unknown-email':\n           case 'email-exists':\n           case 'success-email':\n           case 'not-registered':\n             var $el = this.$refs.formData;\n             this.feedbackStyle.minHeight = $el.clientHeight + 'px';\n             this.messageStyle.minHeight = $el.clientHeight - 60 + 'px';\n             this.feedbackStyle.minWidth = $el.clientWidth + 'px';\n             this.action = d.next;\n             break;\n           case 'link-sent':\n             this.action = 'link-sent';\n             this.waitLogin();\n             // TODO: close form\n             break;\n           case 'user-exists':\n             this.usernameTaken = true;\n             break;\n           case 'forgot-password':\n             break;\n           case 'error':\n             break;\n           case 'success':\n             // success!\n             this.action = 'success';\n             this.reload();\n           }\n         })\n         .catch( error => {\n           console.warn( 'server error', error );\n           this.action = 'system-error';\n           // Swal( \"We're sorry! There was some problem. Please try again later\" );\n         });\n      return false;\n    },\n    waitLogin() {\n    },\n    sendLink() {\n      this.tokenLogin = true;\n    },\n    enterPass() {\n      this.tokenLogin = false;\n    },\n    recaptchaShow() {\n      this.recaptcha.response = '';\n      this.recaptcha.show = true;\n    },\n    recaptchaSuccess( response ) {\n      this.errors = this.errors.filter( x => !/captcha/.test(x) );\n      this.recaptcha.response = response;\n      window.setTimeout( () => { this.recaptcha.show = false; }, 2000 );\n      window.setTimeout( () => { this.recaptcha.response = ''; }, 100000 );\n    },\n    recaptchaExpired() {\n      this.recaptcha.response = '';\n    },\n    actionLogin() {\n      this.formData.action = 'mrklogin';\n    },\n    actionRegister() {\n      this.formData.action = 'mrkregister';\n    },\n    showFormRegister() {\n      this.action = 'register';\n    },\n    showFormLogin() {\n      this.action = 'login';\n    },\n    showFormUser() {\n      this.action = 'unknown-user';\n    },\n    showFormEmail() {\n      this.action = 'unknown-email';\n    },\n    formClick(e) {\n      console.log( 'formClick', e );\n      e.stopPropagation();\n    },\n    changed(e) {\n      this.$emit('change', { orig: e });\n    },\n    clearForm() {\n      this.formData = {\n        action: 'mrklogin',\n        login: '',\n        email: '',\n        pass: '',\n        remember: true,\n        'g-recaptcha-response': '',\n        token: false,\n        sec_token: store.state.ajax.sec\n      };\n      this.action = 'login';\n      this.confirmUser = '';\n      this.confirmPass = '';\n      this.tokenLogin = false;\n    },\n    reload() {\n      window.location.reload();\n    },\n    goBack(e) {\n      e.stopPropagation();\n      if ( this.action == 'not-registered' )\n        this.action = 'login';\n      else \n        this.action = 'register';\n    },\n    goToLogin(e) {\n      e.stopPropagation();\n      this.formData.login = this.formData.email;\n      this.formData.email = '';\n      this.action = 'login';\n    },\n    confirm(e) {\n      this.formData.action = 'mrklogin';\n      this.formData.token = true;\n      this.login(e);\n    },\n    register(e) {\n      e.stopPropagation();\n      this.action = 'login';\n      this.formData.action = 'mrkregister';\n      this.login(e);\n    },\n    focusFirst() {\n      window.setTimeout(() => {\n        if ( this.$refs.firstInput )\n          this.$refs.firstInput.focus();\n      }, 150 );\n    }\n  },\n  computed: {\n    user() {\n      return store.state.user;\n    },\n    loggedIn() {\n      return this.user && this.user.id;\n    },\n    logoutLink() {\n      return he.decode( this.user.logout );\n    }\n  },\n  watch: {\n    action( newVal, oldVal ) {\n      if ( newVal != oldVal )\n        this.focusFirst();\n    },\n    shown( val ) {\n      if ( val )\n        this.focusFirst();\n    }\n  }\n};\n","module.exports = \"<div class=\\\"login-container\\\">\\n  <transition name=\\\"fast-fade\\\" mode=\\\"out-in\\\">\\n    <div v-if=\\\"action == 'success'\\\" id=\\\"login\\\" class=\\\"feedback\\\"\\n         :style=\\\"feedbackStyle\\\">\\n      <div class=\\\"message\\\" :style=\\\"messageStyle\\\">Success! The page should reload\\n        with you logged in. If it takes too long, click the button to\\n        reload.</div>\\n      <b-btn variant=\\\"primary\\\" @click=\\\"reload\\\"\\n             class=\\\"mid-button\\\">reload</b-btn>\\n      <!-- <b-btn type=\\\"submit\\\" variant=\\\"success\\\" name=\\\"wp-submit\\\" -->\\n      <!--        class=\\\"register-button\\\" value=\\\"Register\\\" -->\\n      <!--        @click=\\\"actionRegister\\\">sign-up</b-btn> -->\\n    </div>\\n    <div v-else-if=\\\"action == 'success-email'\\\" id=\\\"login\\\" class=\\\"feedback\\\"\\n         :style=\\\"feedbackStyle\\\">\\n      <div class=\\\"message\\\" :style=\\\"messageStyle\\\">Success! Please check your mail\\n        and follow the confirmation link to complete registration</div>\\n      <div class=\\\"login-actions\\\">\\n        <b-btn variant=\\\"primary\\\" @click=\\\"reload\\\" class=\\\"mid-button\\\">OK</b-btn>\\n      </div>\\n    </div>\\n    <div v-else-if=\\\"action == 'link-sent'\\\" id=\\\"login\\\" class=\\\"feedback\\\"\\n         :style=\\\"feedbackStyle\\\">\\n      <div class=\\\"message\\\" :style=\\\"messageStyle\\\">Your login link has been sent.\\n        This page should reload once you've been logged in. If not, click the\\n        button to reload</div>\\n      <div class=\\\"login-actions\\\">\\n        <b-btn variant=\\\"primary\\\" @click=\\\"reload\\\" class=\\\"mid-button\\\">reload</b-btn>\\n      </div>\\n    </div>\\n    <div v-else-if=\\\"action == 'not-registered'\\\" id=\\\"login\\\" class=\\\"feedback\\\"\\n         :style=\\\"feedbackStyle\\\">\\n      <div class=\\\"message\\\" :style=\\\"messageStyle\\\">The username <strong>{{\\n          formData.login }}</strong> is not registered. Would you like to sign\\n        up?</div>\\n      <div class=\\\"login-actions\\\">\\n        <b-btn variant=\\\"link\\\" @click=\\\"goBack\\\"\\n               class=\\\"login-button\\\">go back</b-btn>\\n        <b-btn variant=\\\"success\\\" @click=\\\"register\\\"\\n               class=\\\"register-button\\\">sign-up</b-btn>\\n      </div>\\n    </div>\\n    <div v-else-if=\\\"action == 'email-exists'\\\" id=\\\"login\\\" class=\\\"feedback\\\"\\n         :style=\\\"feedbackStyle\\\">\\n      <template v-if=\\\"formData.token\\\">\\n        <div class=\\\"message\\\" :style=\\\"messageStyle\\\">The email\\n          <strong>{{ formData.email }}</strong> is already registered. If this\\n          email is correct, click confirm to get your login link, or go back to\\n          change it</div>\\n        <div class=\\\"login-actions\\\">\\n          <b-btn variant=\\\"link\\\" @click=\\\"goBack\\\"\\n                 class=\\\"login-button\\\">go back</b-btn>\\n          <b-btn variant=\\\"success\\\" @click=\\\"confirm\\\"\\n                 class=\\\"register-button\\\">confirm</b-btn>\\n        </div>\\n      </template>\\n      <template v-else>\\n        <div class=\\\"message\\\" :style=\\\"messageStyle\\\">The email\\n          <strong>{{ formData.email }}</strong> is already registered but does\\n          not match the password given. If this email is correct, click login to\\n          try again, or click forgot password and a login link will be sent to\\n          you.</div>\\n        <div class=\\\"login-actions\\\">\\n          <b-btn variant=\\\"link\\\" @click=\\\"goToLogin\\\"\\n                 class=\\\"login-button\\\">login</b-btn>\\n          <b-btn variant=\\\"success\\\" @click=\\\"confirm\\\"\\n                 class=\\\"register-button\\\">forgot password</b-btn>\\n        </div>\\n      </template>\\n    </div>\\n    <b-form v-else-if=\\\"action == 'unknown-user'\\\" @submit=\\\"login\\\"\\n            id=\\\"login\\\" ref=\\\"formData\\\"\\n            @click=\\\"formClick\\\"\\n            :class=\\\"[ 'login', action ]\\\">\\n      <b-alert show variant=\\\"warning\\\">We're sorry, we don't have that username\\n        on record. Please check and re-enter the username or use your email\\n        address. Hit sign-up to create a new account.</b-alert>\\n      <b-form-group id=\\\"login-username\\\"\\n                    label=\\\"email address\\\"\\n                    label-for=\\\"username\\\">\\n        <b-form-input id=\\\"username\\\" ref=\\\"firstInput\\\"\\n                      type=\\\"text\\\"\\n                      v-model=\\\"formData.login\\\"\\n                      @change=\\\"changed\\\"\\n                      required></b-form-input>\\n      </b-form-group>\\n      <b-form-group class=\\\"login-actions\\\">\\n        <b-btn type=\\\"submit\\\" variant=\\\"primary\\\"\\n               name=\\\"wp-submit\\\" class=\\\"login-button\\\" value=\\\"Log in\\\"\\n               @click=\\\"actionLogin\\\">try again</b-btn>\\n        <b-btn type=\\\"submit\\\" variant=\\\"success\\\" name=\\\"wp-submit\\\"\\n               class=\\\"register-button\\\" value=\\\"Register\\\"\\n               @click=\\\"actionRegister\\\">sign-up</b-btn>\\n      </b-form-group>\\n    </b-form>\\n    <b-form v-else-if=\\\"action == 'unknown-email'\\\" @submit=\\\"login\\\"\\n            id=\\\"login\\\" ref=\\\"formData\\\"\\n            @click=\\\"formClick\\\"\\n            :class=\\\"[ 'login', action ]\\\">\\n      <b-alert show variant=\\\"warning\\\">We're sorry, we have no record of that\\n        email address. If you entered the email incorrectly you can re-enter it\\n        below to retry. or hit sign-up to create an account</b-alert>\\n      <b-form-group id=\\\"login-email\\\"\\n                    label=\\\"email address\\\"\\n                    label-for=\\\"email\\\">\\n        <b-form-input id=\\\"email\\\" ref=\\\"firstInput\\\"\\n                      type=\\\"email\\\"\\n                      v-model=\\\"formData.email\\\"\\n                      @change=\\\"changed\\\"\\n                      required></b-form-input>\\n      </b-form-group>\\n      <b-form-group class=\\\"login-actions\\\">\\n        <b-btn type=\\\"submit\\\" variant=\\\"primary\\\"\\n               name=\\\"wp-submit\\\" class=\\\"login-button\\\" value=\\\"Log in\\\"\\n               @click=\\\"actionLogin\\\">try again</b-btn>\\n        <b-btn type=\\\"submit\\\" variant=\\\"success\\\" name=\\\"wp-submit\\\"\\n               class=\\\"register-button\\\" value=\\\"Register\\\"\\n               @click=\\\"actionRegister\\\">sign-up</b-btn>\\n      </b-form-group>\\n    </b-form>\\n    <b-form v-else @submit=\\\"login\\\"\\n            id=\\\"login\\\" ref=\\\"formData\\\"\\n            @click=\\\"formClick\\\"\\n            :class=\\\"[ 'login', action ]\\\">\\n      <transition name=\\\"fade-fast\\\">\\n        <b-form-group v-if=\\\"errors.length\\\">\\n          <b-alert v-for=\\\"( error, index ) in errors\\\" variant=\\\"danger\\\" show\\n                   :key=\\\"index\\\" v-html=\\\"error\\\"></b-alert>\\n        </b-form-group>\\n      </transition>\\n      <b-form-group id=\\\"login-username\\\"\\n                    :label=\\\"action == 'register' ? 'username'\\n                            : 'username or email address'\\\"\\n                    label-for=\\\"username\\\">\\n        <b-form-input id=\\\"username\\\" ref=\\\"firstInput\\\"\\n                      type=\\\"text\\\"\\n                      v-model=\\\"formData.login\\\"\\n                      @change=\\\"changed\\\"\\n                      required></b-form-input>\\n      </b-form-group>\\n      <transition name=\\\"fade-fast\\\">\\n        <b-form-group v-if=\\\"action == 'register'\\\"\\n                      id=\\\"login-email\\\"\\n                      label=\\\"email address\\\"\\n                      label-for=\\\"email\\\">\\n          <b-form-input id=\\\"email\\\"\\n                        type=\\\"email\\\"\\n                        v-model=\\\"formData.email\\\"\\n                      @change=\\\"changed\\\"\\n                        required></b-form-input>\\n        </b-form-group>\\n      </transition>\\n      <transition name=\\\"fade-fast\\\" mode=\\\"out-in\\\">\\n        <div id=\\\"login-password\\\" v-if=\\\"tokenLogin\\\">\\n          <template v-if=\\\"action == 'register'\\\">\\n            <b-alert show>A password will be generated\\n              for you and sent with your confirmation email.</b-alert>\\n            <b-btn variant=\\\"link\\\" @click=\\\"enterPass\\\">set password now</b-btn>\\n          </template>\\n          <template v-else>\\n            <b-alert show>An email will be sent with a link that will log\\n              you in when you click it. This link will expire in 10\\n              minutes.</b-alert>\\n            <b-btn v-if=\\\"passwordWrong\\\" variant=\\\"link\\\"\\n                   @click=\\\"enterPass\\\">try enter password again</b-btn>\\n            <b-btn v-else variant=\\\"link\\\"\\n                   @click=\\\"enterPass\\\">enter password instead</b-btn>\\n          </template>\\n        </div>\\n        <b-form-group v-else-if=\\\"action == 'register'\\\"\\n                      id=\\\"login-password\\\">\\n          <b-form-group id=\\\"login-password1\\\"\\n                        label=\\\"password\\\"\\n                        label-for=\\\"password1\\\">\\n            <b-form-input id=\\\"password1\\\"\\n                          type=\\\"password\\\"\\n                          v-model=\\\"formData.pass\\\"\\n                          @change=\\\"changed\\\"\\n                          required></b-form-input>\\n          </b-form-group>\\n          <b-form-group id=\\\"login-password2\\\"\\n                        label=\\\"confirm password\\\"\\n                        label-for=\\\"password2\\\">\\n            <b-form-input id=\\\"password2\\\"\\n                          type=\\\"password\\\"\\n                          v-model=\\\"confirmPass\\\"\\n                          @change=\\\"changed\\\"\\n                          required></b-form-input>\\n          </b-form-group>\\n          <b-btn variant=\\\"link\\\" @click=\\\"sendLink\\\">don't set password now</b-btn>\\n        </b-form-group>\\n        <b-form-group v-else\\n                      id=\\\"login-password\\\"\\n                      label=\\\"password\\\"\\n                      label-for=\\\"password\\\">\\n          <b-form-input id=\\\"password\\\"\\n                        type=\\\"password\\\"\\n                        v-model=\\\"formData.pass\\\"\\n                        @change=\\\"changed\\\"\\n                        required></b-form-input>\\n          <b-btn v-if=\\\"passwordWrong\\\" variant=\\\"link\\\"\\n                 @click=\\\"sendLink\\\">forgot password</b-btn>\\n          <b-btn v-else variant=\\\"link\\\"\\n                 @click=\\\"sendLink\\\">email login link instead</b-btn>\\n        </b-form-group>\\n      </transition>\\n      <transition name=\\\"fade-in\\\">\\n        <b-form-group v-if=\\\"recaptcha.show || !recaptcha.response\\\"\\n                      id=\\\"login-recaptcha\\\">\\n          <vue-recaptcha :sitekey=\\\"recaptcha.key\\\"\\n                         @rendered=\\\"recaptchaShow\\\"\\n                         @verify=\\\"recaptchaSuccess\\\"\\n                         @expired=\\\"recaptchaExpired\\\"\\n                         theme=\\\"dark\\\"></vue-recaptcha>\\n        </b-form-group>\\n      </transition>\\n      <b-form-group class=\\\"login-actions\\\">\\n        <b-btn v-if=\\\"action != 'register'\\\" type=\\\"submit\\\" variant=\\\"primary\\\"\\n               name=\\\"wp-submit\\\" class=\\\"login-button\\\" value=\\\"Log in\\\"\\n               @click=\\\"actionLogin\\\">login</b-btn>\\n        <b-btn v-else variant=\\\"link\\\" @click=\\\"clearForm\\\"\\n               class=\\\"login-button\\\">cancel</b-btn>\\n        <span v-if=\\\"action != 'register'\\\">or</span>\\n        <b-btn type=\\\"submit\\\" variant=\\\"success\\\" name=\\\"wp-submit\\\"\\n               class=\\\"register-button\\\" value=\\\"Register\\\"\\n               @click=\\\"actionRegister\\\">sign-up</b-btn>\\n      </b-form-group>\\n    </b-form>\\n  </transition>\\n</div>\\n\";"],"sourceRoot":""}