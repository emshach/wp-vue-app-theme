{"version":3,"sources":["webpack:///./js/components/user-block/index.js","webpack:///./js/components/user-block/template.html"],"names":["template","require","data","sstate","store","state","wait","allowHide","methods","ddHide","e","console","log","preventDefault","delayClose","window","clearTimeout","setTimeout","computed","user","loggedIn","id","logoutLink","he","decode","logout"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACe;AACbA,UAAQ,EAAEC,mBAAO,CAAE,iEAAF,CADJ;AAEbC,MAFa,kBAEN;AACL,WAAO;AACLC,YAAM,EAAEC,kDAAK,CAACC,KADT;AAELC,UAAI,EAAE,IAFD;AAGLC,eAAS,EAAE;AAHN,KAAP;AAKD,GARY;AASbC,SAAO,EAAE;AACPC,UADO,kBACAC,CADA,EACG;AACRC,aAAO,CAACC,GAAR,CAAa,SAAb,EAAwBF,CAAxB;AACA,UAAK,CAAC,KAAKH,SAAX,EACEG,CAAC,CAACG,cAAF;AACH,KALM;AAMPC,cANO,sBAMIJ,CANJ,EAMO;AAAA;;AACZC,aAAO,CAACC,GAAR,CAAa,aAAb,EAA4BF,CAA5B;AACA,WAAKH,SAAL,GAAiB,KAAjB;AACA,UAAK,KAAKD,IAAV,EACES,MAAM,CAACC,YAAP,CAAqB,KAAKV,IAA1B;AACF,WAAKA,IAAL,GAAYS,MAAM,CAACE,UAAP,CAAkB,YAAM;AAClC,aAAI,CAACV,SAAL,GAAiB,IAAjB;AACD,OAFW,EAET,GAFS,CAAZ;AAGD;AAdM,GATI;AAyBbW,UAAQ,EAAE;AACRC,QADQ,kBACD;AACL,aAAOf,kDAAK,CAACC,KAAN,CAAYc,IAAnB;AACD,KAHO;AAIRC,YAJQ,sBAIG;AACT,aAAO,KAAKD,IAAL,IAAa,KAAKA,IAAL,CAAUE,EAA9B;AACD,KANO;AAORC,cAPQ,wBAOK;AACX,aAAOC,yCAAE,CAACC,MAAH,CAAW,KAAKL,IAAL,CAAUM,MAArB,CAAP;AACD;AATO;AAzBG,CAAf,E;;;;;;;;;;;ACJA,sLAAsL,2CAA2C,+V","file":"32.js","sourcesContent":["import store from '../../lib/store';\nimport he from 'he';\nimport qs from 'qs';\nimport axios from 'axios';\nexport default {\n  template: require( './template.html' ),\n  data() {\n    return {\n      sstate: store.state,\n      wait: null,\n      allowHide: true\n    };\n  },\n  methods: {\n    ddHide(e) {\n      console.log( 'dd hide', e );\n      if ( !this.allowHide )\n        e.preventDefault();\n    },\n    delayClose(e) {\n      console.log( 'delay close', e );\n      this.allowHide = false;\n      if ( this.wait )\n        window.clearTimeout( this.wait );\n      this.wait = window.setTimeout(() => {\n        this.allowHide = true;\n      }, 500 );\n    }\n  },\n  computed: {\n    user() {\n      return store.state.user;\n    },\n    loggedIn() {\n      return this.user && this.user.id;\n    },\n    logoutLink() {\n      return he.decode( this.user.logout );\n    }\n  }\n};\n","module.exports = \"<b-dd id=\\\"user\\\" @shown=\\\"focusFirst\\\" @hide=\\\"ddHide\\\">\\n  <template slot=\\\"button-content\\\">\\n    <span class=\\\"dashicons dashicons-admin-users\\\"></span>\\n    {{ loggedIn ? user.display_name: 'sign in' }}\\n  </template>\\n  <!-- <transition name=\\\"fast-fade\\\">\\n    <b-dd-item v-if=\\\"loggedIn\\\" :href=\\\"\\\"></b-dd-item>\\n  </transition> -->\\n  <transition name=\\\"fast-fade\\\" mode=\\\"out-in\\\">\\n    <b-dd-item v-if=\\\"loggedIn\\\" :href=\\\"logoutLink\\\">log out</b-dd-item>\\n    <login-form v-else @change=\\\"delayClose\\\"></login-form>\\n  </transition>\\n</b-dd>\\n\";"],"sourceRoot":""}