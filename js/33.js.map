{"version":3,"sources":["webpack:///./js/components/user-block/index.js","webpack:///./js/components/user-block/template.html"],"names":["template","require","data","sstate","store","state","wait","allowHide","shown","methods","hiding","e","preventDefault","delayClose","window","clearTimeout","setTimeout","computed","user","loggedIn","id","logoutLink","he","decode","logout"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACe;AACbA,UAAQ,EAAEC,mBAAO,CAAE,iEAAF,CADJ;AAEbC,MAFa,kBAEN;AACL,WAAO;AACLC,YAAM,EAAEC,kDAAK,CAACC,KADT;AAELC,UAAI,EAAE,IAFD;AAGLC,eAAS,EAAE,IAHN;AAILC,WAAK,EAAE;AAJF,KAAP;AAMD,GATY;AAUbC,SAAO,EAAE;AACPD,SADO,mBACC;AACN,WAAKA,KAAL,GAAa,IAAb;AACD,KAHM;AAIPE,UAJO,kBAIAC,CAJA,EAIG;AACR,UAAK,KAAKJ,SAAV,EACE,KAAKC,KAAL,GAAa,KAAb,CADF,KAGEG,CAAC,CAACC,cAAF;AACH,KATM;AAUPC,cAVO,sBAUIF,CAVJ,EAUO;AAAA;;AACZ,WAAKJ,SAAL,GAAiB,KAAjB;AACA,UAAK,KAAKD,IAAV,EACEQ,MAAM,CAACC,YAAP,CAAqB,KAAKT,IAA1B;AACF,WAAKA,IAAL,GAAYQ,MAAM,CAACE,UAAP,CAAkB,YAAM;AAClC,aAAI,CAACT,SAAL,GAAiB,IAAjB;AACD,OAFW,EAET,IAFS,CAAZ;AAGD;AAjBM,GAVI;AA6BbU,UAAQ,EAAE;AACRC,QADQ,kBACD;AACL,aAAOd,kDAAK,CAACC,KAAN,CAAYa,IAAnB;AACD,KAHO;AAIRC,YAJQ,sBAIG;AACT,aAAO,KAAKD,IAAL,IAAa,KAAKA,IAAL,CAAUE,EAA9B;AACD,KANO;AAORC,cAPQ,wBAOK;AACX,aAAOC,yCAAE,CAACC,MAAH,CAAW,KAAKL,IAAL,CAAUM,MAArB,CAAP;AACD;AATO;AA7BG,CAAf,E;;;;;;;;;;;ACJA,iLAAiL,2CAA2C,gX","file":"33.js","sourcesContent":["import store from '../../lib/store';\nimport he from 'he';\nimport qs from 'qs';\nimport axios from 'axios';\nexport default {\n  template: require( './template.html' ),\n  data() {\n    return {\n      sstate: store.state,\n      wait: null,\n      allowHide: true,\n      shown: false\n    };\n  },\n  methods: {\n    shown() {\n      this.shown = true;\n    },\n    hiding(e) {\n      if ( this.allowHide )\n        this.shown = false;\n      else\n        e.preventDefault();\n    },\n    delayClose(e) {\n      this.allowHide = false;\n      if ( this.wait )\n        window.clearTimeout( this.wait );\n      this.wait = window.setTimeout(() => {\n        this.allowHide = true;\n      }, 1000 );\n    }\n  },\n  computed: {\n    user() {\n      return store.state.user;\n    },\n    loggedIn() {\n      return this.user && this.user.id;\n    },\n    logoutLink() {\n      return he.decode( this.user.logout );\n    }\n  }\n};\n","module.exports = \"<b-dd id=\\\"user\\\" @shown=\\\"shown\\\" @hide=\\\"hiding\\\">\\n  <template slot=\\\"button-content\\\">\\n    <span class=\\\"dashicons dashicons-admin-users\\\"></span>\\n    {{ loggedIn ? user.display_name: 'sign in' }}\\n  </template>\\n  <!-- <transition name=\\\"fast-fade\\\">\\n    <b-dd-item v-if=\\\"loggedIn\\\" :href=\\\"\\\"></b-dd-item>\\n  </transition> -->\\n  <transition name=\\\"fast-fade\\\" mode=\\\"out-in\\\">\\n    <b-dd-item v-if=\\\"loggedIn\\\" :href=\\\"logoutLink\\\">log out</b-dd-item>\\n    <login-form v-else :shown=\\\"shown\\\" @change=\\\"delayClose\\\"></login-form>\\n  </transition>\\n</b-dd>\\n\";"],"sourceRoot":""}