<b-dd id="user">
  <template slot="button-content">
    <span class="dashicons dashicons-admin-users"></span>
    {{ loggedIn ? user.display_name: 'sign in' }}
  </template>
  <b-dd-item v-if="loggedIn" :href="logoutLink">log out</b-dd-item>
  <b-form v-else @submit="login">
    <b-form-group id="login-username"
                  label="username or email address"
                  label-for="username">
      <b-form-input id="username"
                    type="email"
                    v-model="loginForm.user"
                    required></b-form-input>
    </b-form-group>
    <transition name="fade-fast" mode="out-in">
      <div id="login-password" v-if="tokenLogin">
        <b-alert show>An email will be sent with a link that will log you in
          when you click it. This link will expire in 10 minutes.</b-alert>
        <b-btn variant="link" @click="enterPass">enter password instead</b-btn>
      </div>
      <b-form-group v-else
                    id="login-password"
                    label="password"
                    label-for="username">
        <b-form-input id="password"
                      type="password"
                      @click="nolink"
                      v-model="loginForm.pass"
                      required></b-form-input>
        <b-btn variant="link" @click="sendLink">email login link instead</b-btn>
      </b-form-group>
    </transition>
    <b-form-group>
      <vue-recaptcha :sitekey="recaptcha.key"
                     @verify="recaptchaSuccess"
                     theme="dark"></vue-recaptcha>
    </b-form-group>
    <b-form-group class="login-actions">
      <b-btn type="submit" variant="primary">login</b-btn>
      or
      <b-btn type="submit" variant="success">sign-up</b-btn>
    </b-form-group>
  </b-form>
</b-dd>
