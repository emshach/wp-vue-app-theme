{"version":3,"sources":["webpack:///./js/components/release/index.js","webpack:///./js/components/release/template.html"],"names":["template","require","props","data","sstate","store","state","storedPost","show","prev","next","wideMode","beforeRouteUpdate","routeEvents","toRelease","mounted","Object","assign","nextpost","methods","showImg","computed","postData","post","title","rendered","img","background_image","promos","id","excerpt","content","concat","promo_reel","episodes","releases","caption","classes","small","length"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AACA;AACe;AACbA,UAAQ,EAAEC,mBAAO,CAAE,8DAAF,CADJ;AAEbC,OAAK,EAAE,CAAE,MAAF,CAFM;AAGbC,MAHa,kBAGN;AACL,WAAO;AACLC,YAAM,EAAEC,kDAAK,CAACC,KADT;AAELC,gBAAU,EAAE,EAFP;AAGLC,UAAI,EAAE,KAHD;AAILC,UAAI,EAAE,CAJD;AAKLC,UAAI,EAAE,CALD;AAMLC,cAAQ,EAAE;AANL,KAAP;AAQD,GAZY;AAabC,mBAAiB,EAAEC,yDAAW,CAACC,SAblB;AAcbC,SAda,qBAcH;AACR,SAAKR,UAAL,GAAkBS,MAAM,CAACC,MAAP,CAAe,EAAf,EAAmB,KAAKb,MAAL,CAAYc,QAA/B,CAAlB;AACD,GAhBY;AAiBbC,SAAO,EAAE;AACPC,WADO,qBACG;AACR,WAAKZ,IAAL,GAAY,IAAZ;AACD;AAHM,GAjBI;AAsBba,UAAQ,EAAE;AACRC,YADQ,sBACG;AACT,aAAO,KAAKC,IAAL,IAAa,KAAKhB,UAAzB;AACD,KAHO;AAIRiB,SAJQ,mBAIA;AACN,aAAO,KAAKF,QAAL,CAAcE,KAAd,IAAuB,KAAKF,QAAL,CAAcE,KAAd,CAAoBC,QAA3C,IAAuD,EAA9D;AACD,KANO;AAORC,OAPQ,iBAOF;AACJ,aAAO,KAAKJ,QAAL,CAAcK,gBAAd,IAAkC,EAAzC;AACD,KATO;AAURC,UAVQ,oBAUC;AACP,aAAO,CAAC;AACNC,UAAE,EAAE,KAAKP,QAAL,CAAcO,EADZ;AAENC,eAAO,EAAE;AAAEL,kBAAQ,EAAE,KAAKM;AAAjB;AAFH,OAAD,EAGJC,MAHI,CAGI,KAAKV,QAAL,CAAcW,UAAd,IAA4B,EAHhC,CAAP;AAID,KAfO;AAgBRC,YAhBQ,sBAgBG;AACT,aAAO,KAAKZ,QAAL,CAAca,QAAd,IAA0B,EAAjC;AACD,KAlBO;AAmBRJ,WAnBQ,qBAmBE;AACR,aAAO,KAAKT,QAAL,CAAcS,OAAd,GAAwB,KAAKT,QAAL,CAAcS,OAAd,CAAsBN,QAA9C,GACF,KAAKH,QAAL,CAAcc,OAAd,GAAwB,KAAKd,QAAL,CAAcc,OAAtC,GAAgD,EADrD;AAED,KAtBO;AAuBRC,WAvBQ,qBAuBE;AACR,aAAO;AAAEC,aAAK,EAAE,CAAC,CAAC,KAAKV,MAAL,CAAYW;AAAvB,OAAP;AACD;AAzBO;AAtBG,CAAf,E;;;;;;;;;;;ACFA,ynBAAynB,qBAAqB,wKAAwK,qBAAqB,mRAAmR,SAAS,mGAAmG,+BAA+B,sGAAsG,6BAA6B,sFAAsF,8BAA8B,qGAAqG,6BAA6B,wFAAwF,iCAAiC,uGAAuG,gCAAgC,gEAAgE,6BAA6B,uGAAuG,4BAA4B,kGAAkG,iCAAiC,0GAA0G,gCAAgC,oP","file":"20.js","sourcesContent":["import routeEvents from '../../lib/route-events';\nimport store from '../../lib/store';\nexport default {\n  template: require( './template.html' ),\n  props: [ 'post' ],\n  data() {\n    return {\n      sstate: store.state,\n      storedPost: {},\n      show: false,\n      prev: 0,\n      next: 0,\n      wideMode: 0,\n    };\n  },\n  beforeRouteUpdate: routeEvents.toRelease,\n  mounted() {\n    this.storedPost = Object.assign( {}, this.sstate.nextpost );\n  },\n  methods: {\n    showImg() {\n      this.show = true;\n    }\n  },\n  computed: {\n    postData() {\n      return this.post || this.storedPost;\n    },\n    title() {\n      return this.postData.title && this.postData.title.rendered || '';\n    },\n    img() {\n      return this.postData.background_image || '';\n    },\n    promos() {\n      return [{\n        id: this.postData.id,\n        excerpt: { rendered: this.content }\n      }].concat( this.postData.promo_reel || []);\n    },\n    episodes() {\n      return this.postData.releases || [];\n    },\n    content() {\n      return this.postData.content ? this.postData.content.rendered\n         : this.postData.caption ? this.postData.caption : '';\n    },\n    classes() {\n      return { small: !!this.promos.length };\n    }\n  }\n};\n","module.exports = \"<div class=\\\"['release', 'page', postData.release_type]\\\" :key=\\\"postData.id\\\">\\n  <div id=\\\"bg-image-wrapper\\\" :class=\\\"classes\\\">\\n    <transition name=\\\"fade\\\">\\n      <img id=\\\"bg-image\\\" :src=\\\"img\\\" :key=\\\"img\\\" @load=\\\"showImg\\\" v-show=\\\"show\\\"/>\\n    </transition>\\n  </div>\\n  <wp-header></wp-header>\\n  <div class=\\\"featured-wrapper\\\">\\n    <div class=\\\"container\\\">\\n      <div class=\\\"row\\\">\\n        <div class=\\\"['col-12', wideMode ? '' : 'col-md-8']\\\">\\n          <video v-if=\\\"postData.releaseType == 'video'\\\"\\n                 :src=\\\"postData.source_url\\\" class=\\\"media\\\" controls>\\n            {{ postData.alt_text }}\\n          </video>\\n          <audio v-if=\\\"postData.releaseType == 'audio'\\\"\\n                 :src=\\\"postData.source_url\\\" class=\\\"media\\\" controls>\\n            {{ postData.alt_text }}\\n          </audio>\\n        </div>\\n        <transition name=\\\"fade-in\\\">\\n          <div v-if=\\\"!wideMode\\\" class=\\\"col-12 col-md-4\\\" v-html=\\\"content\\\"></div>\\n        </transition>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <main role=\\\"main\\\">\\n    <h1 class=\\\"title\\\">{{ title }}</h1>\\n    <section class=\\\"info\\\">\\n      <div :class=\\\"[ 'views', 'd-flex',\\n                   { active : postData.my_xp.seen }]\\\">\\n        <span class=\\\"dashicons dashicons-visibility\\\"></span>\\n        <span class=\\\"count\\\">{{ postData.stats.views || 0 }}</span>\\n      </div>\\n      <div :class=\\\"[ 'likes',  'd-flex',\\n                   { active: postData.my_xp.like }]\\\">\\n        <span class=\\\"dashicons dashicons-thumbs-up\\\"></span>\\n        <span class=\\\"count\\\">{{ postData.stats.likes || 0 }}</span>\\n      </div>\\n      <div :class=\\\"[ 'dislikes', 'd-flex',\\n                   { active: postData.my_xp.dislike }]\\\">\\n        <span class=\\\"dashicons dashicons-thumbs-down\\\"></span>\\n        <span class=\\\"count\\\">{{ postData.stats.dislikes || 0 }}</span>\\n      </div>\\n      <div :class=\\\"[ 'favs', 'd-flex', { active: postData.my_xp.fav }]\\\">\\n        <span class=\\\"dashicons dashicons-star-filled\\\"></span>\\n        <span class=\\\"count\\\">{{ postData.stats.favs || 0 }}</span>\\n      </div>\\n      <div :class=\\\"[ 'comments', 'd-flex',\\n                             { active: postData.my_xp.comment }]\\\">\\n        <span class=\\\"dashicons dashicons-admin-comments\\\"></span>\\n        <span class=\\\"count\\\">{{ postData.stats.comments || 0 }}</span>\\n      </div>\\n    </section>\\n    <!-- TODO: strips for related, series -->\\n    <section class=\\\"description\\\" v-if\\\"wideMode\\\" v-html=\\\"content\\\"></section>\\n    <comments></comments>\\n  </main>\\n  <wp-footer></wp-footer>\\n</div>\\n\";"],"sourceRoot":""}